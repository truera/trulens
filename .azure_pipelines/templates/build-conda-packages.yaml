parameters:
  - name: pythonVersion
    type: string
    values:
      - "3.9"
      - "3.10"
      - "3.11"
      - "3.12"

jobs:
- job: BuildCondaPackages
  pool:
    vmImage: ubuntu-latest
  timeoutInMinutes: 30
  steps:
  - template: env-setup.yaml
    parameters:
      pythonVersion: ${{ parameters.pythonVersion }}
  - bash: |
      set -e
      conda install conda-build
  - bash: |
      set -e
      cd ./src/otel/semconv/
      conda build .
  - bash: |
      set -e
      cd ./src/core
      conda build .
